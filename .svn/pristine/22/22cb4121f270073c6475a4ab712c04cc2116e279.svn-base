{"ast":null,"code":"import _regeneratorRuntime from\"E:/DEV/Projeto-Social-Dev/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"E:/DEV/Projeto-Social-Dev/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import{useEffect,useCallback}from'react';import authService from'../../services/authService';import{useDispatch}from'react-redux';import{setUserData}from'../../actions/accountActions';function Auth(_ref){var children=_ref.children;var dispatch=useDispatch();var initAuth=useCallback(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!authService.isAuthenticated()){_context.next=3;break;}_context.next=3;return dispatch(setUserData());case 3:case\"end\":return _context.stop();}}},_callee);})),[dispatch]);useEffect(function(){initAuth();},[initAuth]);return children;}export default Auth;","map":{"version":3,"sources":["E:/DEV/Projeto-Social-Dev/src/components/Auth/index.js"],"names":["useEffect","useCallback","authService","useDispatch","setUserData","Auth","children","dispatch","initAuth","isAuthenticated"],"mappings":"6RAAA,OAASA,SAAT,CAAoBC,WAApB,KAAuC,OAAvC,CACA,MAAOC,CAAAA,WAAP,KAAwB,4BAAxB,CACA,OAASC,WAAT,KAA4B,aAA5B,CAEA,OAASC,WAAT,KAA4B,8BAA5B,CAEA,QAASC,CAAAA,IAAT,MAA0B,IAAXC,CAAAA,QAAW,MAAXA,QAAW,CACtB,GAAMC,CAAAA,QAAQ,CAAGJ,WAAW,EAA5B,CAEA,GAAMK,CAAAA,QAAQ,CAAGP,WAAW,sEAAC,uIAErBC,WAAW,CAACO,eAAZ,EAFqB,+CAIfF,CAAAA,QAAQ,CAACH,WAAW,EAAZ,CAJO,uDAAD,GAMrB,CAACG,QAAD,CANqB,CAA5B,CAQIP,SAAS,CAAC,UAAM,CACZQ,QAAQ,GACX,CAFQ,CAEN,CAACA,QAAD,CAFM,CAAT,CAIJ,MAAOF,CAAAA,QAAP,CACH,CAED,cAAeD,CAAAA,IAAf","sourcesContent":["import { useEffect, useCallback } from 'react';\r\nimport authService from '../../services/authService';\r\nimport { useDispatch } from 'react-redux';\r\n\r\nimport { setUserData } from '../../actions/accountActions';\r\n\r\nfunction Auth({children}) {\r\n    const dispatch = useDispatch();\r\n\r\n    const initAuth = useCallback(async () => {\r\n        \r\n        if (authService.isAuthenticated()) {\r\n            // recuperar os dados novamente do usuario logado\r\n            await dispatch(setUserData());\r\n          }\r\n        }, [dispatch]);\r\n      \r\n        useEffect(() => {\r\n            initAuth();\r\n        }, [initAuth]);      \r\n\r\n    return children\r\n}\r\n\r\nexport default Auth;"]},"metadata":{},"sourceType":"module"}