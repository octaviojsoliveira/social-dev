{"ast":null,"code":"import _objectSpread from\"E:/DEV/Projeto-Social-Dev/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"E:/DEV/Projeto-Social-Dev/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import React,{useState,useCallback}from\"react\";import{useSelector}from'react-redux';import{makeStyles}from\"@material-ui/core/styles\";import Box from\"@material-ui/core/Box\";import AppBar from\"@material-ui/core/AppBar\";import Toolbar from\"@material-ui/core/Toolbar\";import Button from\"@material-ui/core/Button\";import Typography from\"@material-ui/core/Typography\";import TextField from\"@material-ui/core/TextField\";import Autocomplete from'@material-ui/lab/Autocomplete';import{useDropzone}from\"react-dropzone\";import Divider from'@material-ui/core/Divider';import Avatar from'@material-ui/core/Avatar';import Markdown from'react-markdown';var useStyles=makeStyles(function(theme){return{appBar:{top:\"auto\",bottom:0,alignItems:\"center\"},image:{height:100},imagePreview:{width:\"100%\"},textArea:{width:\"100%\",height:\"80%\",resize:\"none\",border:\"none\",outline:\"none\",fontsize:15},button:{marginRight:theme.spacing(2)},avatar:{marginRight:theme.spacing(1)}};});var arrayTags=[{title:'react.js'},{title:'node.js'},{title:'dotnetcore'},{title:'webdev'},{title:'php'}];function NewPost(){var _account$user,_account$user2;var classes=useStyles();var _useState=useState(null),_useState2=_slicedToArray(_useState,2),image=_useState2[0],setImage=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),title=_useState4[0],setTitle=_useState4[1];var _useState5=useState([{title:'react.js'}]),_useState6=_slicedToArray(_useState5,2),tags=_useState6[0],setTags=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),markdownText=_useState8[0],setMarkDownText=_useState8[1];var account=useSelector(function(state){return state.account;});var onDrop=useCallback(function(acceptedFiles){var file=acceptedFiles[0];var reader=new FileReader();reader.readAsDataURL(file);reader.onloadend=function(){var base64data=reader.result;setImage(base64data);};},[]);var _useDropzone=useDropzone({onDrop:onDrop,multiple:false,accept:\"image/*\"}),getRootProps=_useDropzone.getRootProps,getInputProps=_useDropzone.getInputProps;var handleTitleChange=function handleTitleChange(event){setTitle(event.currentTarget.value);};var handleTagsChange=function handleTagsChange(event,values){setTags(values);};var handleChangeMarkdownText=function handleChangeMarkdownText(event){setMarkDownText(event.currentTarget.value);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Box,{display:\"flex\",height:\"calc(100% - 70px)\",overflow:\"scroll\",children:[/*#__PURE__*/_jsxs(Box,{width:\"50%\",height:\"100%\",padding:2,borderRight:\"1px solid #DDD\",children:[/*#__PURE__*/_jsx(TextField,{id:\"title\",placeholder:\"T\\xEDtulo\",fullWidth:true,value:title,onChange:handleTitleChange}),/*#__PURE__*/_jsx(Autocomplete,{multiple:true,id:\"tags-standard\",options:arrayTags,getOptionLabel:function getOptionLabel(option){return option.title;},value:tags,onChange:handleTagsChange,renderInput:function renderInput(params){return/*#__PURE__*/_jsx(TextField,_objectSpread(_objectSpread({},params),{},{variant:\"standard\",placeholder:\"tags\"}));}}),/*#__PURE__*/_jsx(\"textarea\",{className:classes.textArea,placeholder:\"Editor Markdown\",onChange:handleChangeMarkdownText}),/*#__PURE__*/_jsxs(\"div\",_objectSpread(_objectSpread({},getRootProps()),{},{children:[/*#__PURE__*/_jsx(\"input\",_objectSpread({},getInputProps())),/*#__PURE__*/_jsx(Button,{children:\"Carregar imagem\"})]})),image&&/*#__PURE__*/_jsx(\"img\",{src:image,alt:\"background\",className:classes.image})]}),/*#__PURE__*/_jsxs(Box,{width:\"50%\",height:\"100%\",padding:2,children:[/*#__PURE__*/_jsx(Typography,{variant:\"h2\",children:title}),/*#__PURE__*/_jsxs(Box,{display:\"flex\",alignItems:\"center\",children:[/*#__PURE__*/_jsx(Box,{children:/*#__PURE__*/_jsx(Avatar,{className:classes.avatar,src:(_account$user=account.user)===null||_account$user===void 0?void 0:_account$user.avatar})}),/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"body1\",children:(_account$user2=account.user)===null||_account$user2===void 0?void 0:_account$user2.name}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"textSecondary\",children:\"10 meses atr\\xE1s\"})]})]}),/*#__PURE__*/_jsx(Typography,{variant:\"body1\",children:tags.map(function(item){return item.title;}).join(',')}),/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsx(Markdown,{source:markdownText}),image&&/*#__PURE__*/_jsx(\"img\",{src:image,alt:\"background\",className:classes.imagePreview})]})]}),/*#__PURE__*/_jsx(AppBar,{position:\"fixed\",color:\"inherit\",className:classes.appBar,children:/*#__PURE__*/_jsxs(Toolbar,{children:[/*#__PURE__*/_jsx(Button,{color:\"primary\",className:classes.button,children:\"Salvar Rascunho\"}),/*#__PURE__*/_jsx(Button,{color:\"secondary\",variant:\"outlined\",children:\"Publicar\"})]})})]});}export default NewPost;","map":{"version":3,"sources":["E:/DEV/Projeto-Social-Dev/src/pages/Post/New.js"],"names":["React","useState","useCallback","useSelector","makeStyles","Box","AppBar","Toolbar","Button","Typography","TextField","Autocomplete","useDropzone","Divider","Avatar","Markdown","useStyles","theme","appBar","top","bottom","alignItems","image","height","imagePreview","width","textArea","resize","border","outline","fontsize","button","marginRight","spacing","avatar","arrayTags","title","NewPost","classes","setImage","setTitle","tags","setTags","markdownText","setMarkDownText","account","state","onDrop","acceptedFiles","file","reader","FileReader","readAsDataURL","onloadend","base64data","result","multiple","accept","getRootProps","getInputProps","handleTitleChange","event","currentTarget","value","handleTagsChange","values","handleChangeMarkdownText","option","params","user","name","map","item","join"],"mappings":"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","sourcesContent":["import React, { useState, useCallback } from \"react\";\r\nimport { useSelector } from 'react-redux';\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Autocomplete from '@material-ui/lab/Autocomplete';\r\nimport { useDropzone } from \"react-dropzone\";\r\nimport Divider from '@material-ui/core/Divider';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Markdown from 'react-markdown';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  appBar: {\r\n    top: \"auto\",\r\n    bottom: 0,\r\n    alignItems: \"center\",\r\n  },\r\n  image: {\r\n    height: 100,\r\n  },\r\n  imagePreview: {\r\n    width: \"100%\",\r\n  },\r\n  textArea: {\r\n    width: \"100%\",\r\n    height: \"80%\",\r\n    resize: \"none\",\r\n    border: \"none\",\r\n    outline: \"none\",\r\n    fontsize: 15,\r\n  },\r\n  button: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  avatar: {\r\n    marginRight: theme.spacing(1)\r\n  },\r\n}));\r\n\r\nconst arrayTags = [\r\n    { title: 'react.js' },\r\n    { title: 'node.js' },\r\n    { title: 'dotnetcore' },\r\n    { title: 'webdev' },\r\n    { title: 'php' },\r\n]\r\n\r\nfunction NewPost() {\r\n  const classes = useStyles();\r\n  const [image, setImage] = useState(null);\r\n  const [title, setTitle] = useState(\"\");\r\n  const [tags, setTags] = useState([{title: 'react.js'}]);\r\n  const [markdownText, setMarkDownText] = useState(\"\");\r\n  const account = useSelector(state => state.account);\r\n\r\n  const onDrop = useCallback((acceptedFiles) => {\r\n    const file = acceptedFiles[0];\r\n    const reader = new FileReader();\r\n    reader.readAsDataURL(file);\r\n    reader.onloadend = () => {\r\n      const base64data = reader.result;\r\n      setImage(base64data);\r\n    };\r\n  }, []);\r\n\r\n  const { getRootProps, getInputProps } = useDropzone({\r\n    onDrop,\r\n    multiple: false,\r\n    accept: \"image/*\",\r\n  });\r\n\r\n  const handleTitleChange = (event) => {\r\n      setTitle(event.currentTarget.value);\r\n  };\r\n\r\n  const handleTagsChange = (event, values) => {\r\n      setTags(values);\r\n  };\r\n\r\n  const handleChangeMarkdownText = (event) => {\r\n      setMarkDownText(event.currentTarget.value);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Box display=\"flex\" height=\"calc(100% - 70px)\" overflow=\"scroll\">\r\n        <Box width=\"50%\" height=\"100%\" padding={2} borderRight=\"1px solid #DDD\">\r\n          <TextField id=\"title\" placeholder=\"Título\" fullWidth value={title} onChange={handleTitleChange} />\r\n          <Autocomplete\r\n            multiple\r\n            id=\"tags-standard\"\r\n            options={arrayTags}\r\n            getOptionLabel={(option) => option.title}\r\n            value={tags}\r\n            onChange={handleTagsChange}\r\n            renderInput={(params) => (\r\n              <TextField\r\n                {...params}\r\n                variant=\"standard\"\r\n                placeholder=\"tags\"\r\n              />\r\n            )}\r\n          />\r\n          <textarea className={classes.textArea} placeholder=\"Editor Markdown\" onChange= {handleChangeMarkdownText} ></textarea>\r\n          <div {...getRootProps()}>\r\n            <input {...getInputProps()} />\r\n            <Button>Carregar imagem</Button>\r\n          </div>\r\n          {image && (\r\n            <img src={image} alt=\"background\" className={classes.image} />\r\n          )}\r\n        </Box>\r\n\r\n        <Box width=\"50%\" height=\"100%\" padding={2}>\r\n          <Typography variant=\"h2\">{title}</Typography>\r\n          <Box display=\"flex\" alignItems=\"center\">\r\n            <Box>\r\n              <Avatar className={classes.avatar} src={account.user?.avatar} />\r\n            </Box> \r\n            <Box>\r\n              <Typography variant='body1'>{account.user?.name}</Typography>\r\n              <Typography variant='body2' color=\"textSecondary\">10 meses atrás</Typography>\r\n            </Box>\r\n          </Box>\r\n          <Typography variant=\"body1\">{tags.map(item => item.title).join(',')}</Typography>\r\n          <Divider />  \r\n          <Markdown source={markdownText} />\r\n          {image && (\r\n            <img\r\n              src={image}\r\n              alt=\"background\"\r\n              className={classes.imagePreview}\r\n            />\r\n          )}\r\n        </Box>\r\n      </Box>\r\n      <AppBar position=\"fixed\" color=\"inherit\" className={classes.appBar}>\r\n        <Toolbar>\r\n          <Button color=\"primary\" className={classes.button}>\r\n            Salvar Rascunho\r\n          </Button>\r\n          <Button color=\"secondary\" variant=\"outlined\">\r\n            Publicar\r\n          </Button>\r\n        </Toolbar>\r\n      </AppBar>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default NewPost;\r\n"]},"metadata":{},"sourceType":"module"}