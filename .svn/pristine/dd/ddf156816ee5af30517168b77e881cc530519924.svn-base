{"ast":null,"code":"import _classCallCheck from\"E:/DEV/Projeto-Social-Dev/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import axios from'../utils/axios';var AuthService=function AuthService(){var _this=this;_classCallCheck(this,AuthService);this.signIn=function(email,password){return new Promise(function(resolve,reject){axios.post('/api/home/login',{email:email,password:password}).then(function(response){if(response.data.user){_this.setToken('JWT');resolve(response.data.user);}else{reject(response.data.error);}}).catch(function(error){reject(error);});});};this.signInWithToken=function(){return new Promise(function(resolve,reject){axios.post('/api/home/me').then(function(response){if(response.data.user){resolve(response.data.user);}else{reject(response.data.error);}}).catch(function(error){reject(error);});});};this.signOut=function(){_this.removeToken();};this.setToken=function(token){localStorage.setItem(\"accessToken\",token);};this.getToken=function(){return localStorage.getItem(\"accessToken\");};this.removeToken=function(){return localStorage.removeItem(\"accessToken\");};this.isAuthenticated=function(){return!!_this.getToken();};};var authService=new AuthService();export default authService;","map":{"version":3,"sources":["E:/DEV/Projeto-Social-Dev/src/services/authService.js"],"names":["axios","AuthService","signIn","email","password","Promise","resolve","reject","post","then","response","data","user","setToken","error","catch","signInWithToken","signOut","removeToken","token","localStorage","setItem","getToken","getItem","removeItem","isAuthenticated","authService"],"mappings":"kJAAA,MAAOA,CAAAA,KAAP,KAAkB,gBAAlB,C,GAEMC,CAAAA,W,8EACFC,M,CAAS,SAACC,KAAD,CAAQC,QAAR,CAAqB,CAC1B,MAAO,IAAIC,CAAAA,OAAJ,CAAY,SAACC,OAAD,CAAUC,MAAV,CAAqB,CACpCP,KAAK,CAACQ,IAAN,CAAW,iBAAX,CAA8B,CAACL,KAAK,CAALA,KAAD,CAAQC,QAAQ,CAARA,QAAR,CAA9B,EACCK,IADD,CACM,SAAAC,QAAQ,CAAI,CACd,GAAIA,QAAQ,CAACC,IAAT,CAAcC,IAAlB,CAAwB,CACpB,KAAI,CAACC,QAAL,CAAc,KAAd,EACAP,OAAO,CAACI,QAAQ,CAACC,IAAT,CAAcC,IAAf,CAAP,CACH,CAHD,IAGO,CACHL,MAAM,CAACG,QAAQ,CAACC,IAAT,CAAcG,KAAf,CAAN,CACH,CACJ,CARD,EASCC,KATD,CASO,SAAAD,KAAK,CAAI,CACZP,MAAM,CAACO,KAAD,CAAN,CACH,CAXD,EAYH,CAbM,CAAP,CAcH,C,MAEDE,e,CAAkB,UAAM,CACpB,MAAO,IAAIX,CAAAA,OAAJ,CAAa,SAACC,OAAD,CAAUC,MAAV,CAAqB,CACrCP,KAAK,CAACQ,IAAN,CAAW,cAAX,EACCC,IADD,CACM,SAAAC,QAAQ,CAAI,CACd,GAAIA,QAAQ,CAACC,IAAT,CAAcC,IAAlB,CAAwB,CACpBN,OAAO,CAACI,QAAQ,CAACC,IAAT,CAAcC,IAAf,CAAP,CACH,CAFD,IAEO,CACHL,MAAM,CAACG,QAAQ,CAACC,IAAT,CAAcG,KAAf,CAAN,CACH,CACJ,CAPD,EAQCC,KARD,CAQO,SAAAD,KAAK,CAAI,CACZP,MAAM,CAACO,KAAD,CAAN,CACH,CAVD,EAWH,CAZM,CAAP,CAaH,C,MAEDG,O,CAAU,UAAM,CACZ,KAAI,CAACC,WAAL,GACH,C,MAEDL,Q,CAAW,SAACM,KAAD,CAAW,CAClBC,YAAY,CAACC,OAAb,CAAqB,aAArB,CAAoCF,KAApC,EACH,C,MAEDG,Q,CAAW,iBAAMF,CAAAA,YAAY,CAACG,OAAb,CAAqB,aAArB,CAAN,E,MAEXL,W,CAAc,iBAAME,CAAAA,YAAY,CAACI,UAAb,CAAwB,aAAxB,CAAN,E,MAEdC,e,CAAkB,iBAAM,CAAC,CAAC,KAAI,CAACH,QAAL,EAAR,E,GAGtB,GAAMI,CAAAA,WAAW,CAAG,GAAIzB,CAAAA,WAAJ,EAApB,CAEA,cAAeyB,CAAAA,WAAf","sourcesContent":["import axios from '../utils/axios';\r\n\r\nclass AuthService {\r\n    signIn = (email, password) => {\r\n        return new Promise((resolve, reject) => {\r\n            axios.post('/api/home/login', {email, password})\r\n            .then(response => {\r\n                if (response.data.user) {\r\n                    this.setToken('JWT')\r\n                    resolve(response.data.user)\r\n                } else {\r\n                    reject(response.data.error)\r\n                }\r\n            })\r\n            .catch(error => {\r\n                reject(error)\r\n            })\r\n        })\r\n    }\r\n\r\n    signInWithToken = () => {\r\n        return new Promise ((resolve, reject) => {\r\n            axios.post('/api/home/me')\r\n            .then(response => {\r\n                if (response.data.user) {\r\n                    resolve(response.data.user)\r\n                } else {\r\n                    reject(response.data.error)\r\n                }\r\n            })\r\n            .catch(error => {\r\n                reject(error)\r\n            })\r\n        })\r\n    }\r\n\r\n    signOut = () => {\r\n        this.removeToken();\r\n    }\r\n\r\n    setToken = (token) => {\r\n        localStorage.setItem(\"accessToken\", token);\r\n    };\r\n\r\n    getToken = () => localStorage.getItem(\"accessToken\");\r\n\r\n    removeToken = () => localStorage.removeItem(\"accessToken\");\r\n\r\n    isAuthenticated = () => !!this.getToken();\r\n}\r\n\r\nconst authService = new AuthService();\r\n\r\nexport default authService;"]},"metadata":{},"sourceType":"module"}