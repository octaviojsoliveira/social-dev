{"ast":null,"code":"import _slicedToArray from\"E:/DEV/Projeto-Social-Dev/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import React,{useRef,useState,useEffect}from\"react\";import{useSelector,useDispatch}from\"react-redux\";import SvgIcon from\"@material-ui/core/SvgIcon\";import IconButton from\"@material-ui/core/IconButton\";import Popover from\"@material-ui/core/Popover\";import Typography from\"@material-ui/core/Typography\";import Box from\"@material-ui/core/Box\";import List from'@material-ui/core/List';import ListItem from'@material-ui/core/ListItem';import ListItemText from'@material-ui/core/ListItemText';import ListItemAvatar from'@material-ui/core/ListItemAvatar';import Avatar from'@material-ui/core/Avatar';import{makeStyles}from'@material-ui/core/Styles';import{Bell as BellIcon,Star as StarIcon,MessageCircle as MessageIcon,Heart as HeartIcon,User as ConnectionIcon}from'react-feather';import{getNotifications}from'../../../actions/notificationsActions';var iconsMap={reviews:StarIcon,new_comment:MessageIcon,like:HeartIcon,connection:ConnectionIcon};var useStyles=makeStyles(function(theme){return{icon:{background:theme.palette.secondary.main,color:theme.palette.secondary.contrastText}};});function Notifications(){var account=useSelector(function(state){return state.account;});var isAuthenticated=!!account.user;var notifications=useSelector(function(state){return state.notifications.notifications;});var ref=useRef(null);var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isOpen=_useState2[0],setOpen=_useState2[1];var dispatch=useDispatch();var classes=useStyles();var handleOpen=function handleOpen(){setOpen(true);};var handleClose=function handleClose(){setOpen(false);};useEffect(function(){dispatch(getNotifications());},[dispatch]);return isAuthenticated&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(IconButton,{ref:ref,onClick:handleOpen,children:/*#__PURE__*/_jsx(SvgIcon,{children:/*#__PURE__*/_jsx(BellIcon,{})})}),/*#__PURE__*/_jsxs(Popover,{onCLose:handleClose,open:isOpen,anchorEl:ref.current,anchorOrigin:{vertical:\"bottom\",horizontal:\"center\"},transformOrigin:{vertical:\"top\",horizontal:\"right\"},children:[/*#__PURE__*/_jsx(Box,{p:2,children:/*#__PURE__*/_jsx(Typography,{variant:\"h6\",color:\"textPrimary\",children:\"Notifica\\xE7\\xF5es\"})}),/*#__PURE__*/_jsx(List,{children:notifications.map(function(notification){var Icon=iconsMap[notification.type];return/*#__PURE__*/_jsxs(ListItem,{children:[/*#__PURE__*/_jsx(ListItemAvatar,{children:/*#__PURE__*/_jsx(Avatar,{className:classes.icon,children:/*#__PURE__*/_jsx(SvgIcon,{children:/*#__PURE__*/_jsx(Icon,{})})})}),/*#__PURE__*/_jsx(ListItemText,{primary:notification.title,primaryTypographyProps:{variant:'subtitle2',color:'textPrimary'},secondary:notification.description})]});})})]})]});}export default Notifications;","map":{"version":3,"sources":["E:/DEV/Projeto-Social-Dev/src/pages/Home/Header/Notifications.js"],"names":["React","useRef","useState","useEffect","useSelector","useDispatch","SvgIcon","IconButton","Popover","Typography","Box","List","ListItem","ListItemText","ListItemAvatar","Avatar","makeStyles","Bell","BellIcon","Star","StarIcon","MessageCircle","MessageIcon","Heart","HeartIcon","User","ConnectionIcon","getNotifications","iconsMap","reviews","new_comment","like","connection","useStyles","theme","icon","background","palette","secondary","main","color","contrastText","Notifications","account","state","isAuthenticated","user","notifications","ref","isOpen","setOpen","dispatch","classes","handleOpen","handleClose","current","vertical","horizontal","map","notification","Icon","type","title","variant","description"],"mappings":"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","sourcesContent":["import React, { useRef, useState, useEffect } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport SvgIcon from \"@material-ui/core/SvgIcon\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport Popover from \"@material-ui/core/Popover\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport { makeStyles } from '@material-ui/core/Styles';\r\nimport { \r\n  Bell as BellIcon,\r\n  Star as StarIcon,\r\n  MessageCircle as MessageIcon,\r\n  Heart as HeartIcon,\r\n  User as ConnectionIcon, \r\n} from 'react-feather';\r\n\r\nimport { getNotifications } from '../../../actions/notificationsActions';\r\n\r\n\r\nconst iconsMap = {\r\n  reviews: StarIcon,\r\n  new_comment: MessageIcon,\r\n  like: HeartIcon,\r\n  connection: ConnectionIcon\r\n};\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    icon: {\r\n      background: theme.palette.secondary.main,\r\n      color: theme.palette.secondary.contrastText\r\n    }\r\n}))\r\n\r\nfunction Notifications() {\r\n  const account = useSelector((state) => state.account);\r\n  const isAuthenticated = !!account.user;\r\n  const notifications = useSelector((state) => state.notifications.notifications);\r\n\r\n  const ref = useRef(null);\r\n  const [isOpen, setOpen] = useState(false);\r\n  const dispatch = useDispatch();\r\n\r\n  const classes = useStyles();\r\n  \r\n  const handleOpen = () => {\r\n      setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n      setOpen(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n      dispatch(getNotifications());\r\n  }, [dispatch]);\r\n\r\n  return (\r\n    isAuthenticated && (\r\n      <>\r\n        <IconButton ref={ref} onClick={handleOpen}>\r\n          <SvgIcon>\r\n            <BellIcon></BellIcon>\r\n          </SvgIcon>\r\n        </IconButton>\r\n        <Popover\r\n          onCLose={handleClose}  \r\n          open={isOpen}  \r\n          anchorEl={ref.current}  \r\n          anchorOrigin={{\r\n            vertical: \"bottom\",\r\n            horizontal: \"center\",\r\n          }}\r\n          transformOrigin={{\r\n            vertical: \"top\",\r\n            horizontal: \"right\",\r\n          }}\r\n        >\r\n          <Box p={2}>\r\n            <Typography variant=\"h6\" color=\"textPrimary\">\r\n              Notificações\r\n            </Typography>\r\n          </Box>\r\n          <List>\r\n          {\r\n            notifications.map((notification) => {\r\n              const Icon = iconsMap[notification.type];\r\n              return (\r\n            <ListItem>\r\n              <ListItemAvatar>\r\n                  <Avatar className={classes.icon}> \r\n                    <SvgIcon>\r\n                      <Icon />\r\n                    </SvgIcon>\r\n                  </Avatar>\r\n              </ListItemAvatar>\r\n              <ListItemText primary={notification.title} primaryTypographyProps={{variant: 'subtitle2', color: 'textPrimary'}} secondary={notification.description}/>\r\n            </ListItem>\r\n              )\r\n            })\r\n          }\r\n          </List>\r\n        </Popover>\r\n      </>\r\n    )\r\n  );\r\n}\r\n\r\nexport default Notifications;\r\n"]},"metadata":{},"sourceType":"module"}